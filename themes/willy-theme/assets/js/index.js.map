{"mappings":"YAAAA,QAAQC,IAAR,wIAaA,IAqCMC,EAjCAC,EAAa,WAAA,QAAOC,aAAaC,QAJrB,kBAmBlB,WACE,IAAMH,EAAWI,SAASC,eAjBR,aAmBlB,GAAIJ,IACFD,EAASM,QArBM,SAIjBJ,aAAaC,QANG,oBAsBhB,CAKA,IAAMI,EAlBFC,OAAOC,YACLD,OAAOC,WAAW,gCAAgCC,QARvC,OADC,QA2BlBV,EAASM,QA1BQ,QA0BEC,GA4BrBI,IAnBMX,EAAWI,SAASC,eAlCN,cAmCTO,QAAU,WACjB,IARUC,EAQJC,EAAkC,GAApBd,EAASM,QArCd,OADC,QA8BNO,EASLC,EARPZ,aAAaa,QAhCG,eAgCgBF,IAYhCL,OACGC,WAAW,gCACXO,iBAAiB,UAAU,SAACC,GAC3B,IAAIhB,IAAJ,CAGA,IAAMiB,EAAiBD,EAAMP,QAhDhB,OADC,QAkDdN,SAASC,eAhDK,aAgDuBC,QAjDxB,QAkDXY","sources":["./src/index.js"],"sourcesContent":["console.log(`\nHolis!\nWelcome to my personal site!\n\nMy social networks:\n\n- https://hachyderm.io/@woile\n- https://twitter.com/santiwilly\n\n`);\n\n// If user does nothing -> control with prefers color scheme\n// Is user clicks, it's store and used\nconst THEME_VAR = \"color-scheme\";\nconst LIGHT_THEME = \"light\";\nconst DARK_THEME = \"dark\";\nconst CHECKBOX_ID = \"dark-mode\";\nconst isThemeSet = () => (localStorage.getItem(THEME_VAR) ? true : false);\nconst isDarkTheme = () =>\n  localStorage.getItem(THEME_VAR) === DARK_THEME ? true : false;\n\nfunction getPreferredColorScheme() {\n  if (window.matchMedia) {\n    if (window.matchMedia(\"(prefers-color-scheme: dark)\").matches) {\n      return DARK_THEME;\n    } else {\n      return LIGHT_THEME;\n    }\n  }\n  return LIGHT_THEME;\n}\n\nfunction load() {\n  const checkbox = document.getElementById(CHECKBOX_ID);\n  // If the theme has been stored in localstorage\n  if (isThemeSet()) {\n    checkbox.checked = isDarkTheme();\n    return;\n  }\n  // Otherwise, we read from preference\n  const getDefault = getPreferredColorScheme();\n  checkbox.checked = getDefault == DARK_THEME;\n}\n\nfunction save(value) {\n  localStorage.setItem(THEME_VAR, value);\n}\n\nfunction start() {\n  // Add save listener when user clicks checkbox\n  let checkbox = document.getElementById(CHECKBOX_ID);\n  checkbox.onclick = () => {\n    const colorScheme = checkbox.checked == true ? DARK_THEME : LIGHT_THEME;\n    save(colorScheme);\n  };\n\n  // Add listener to system theme preference, as long as theme is not saved\n  window\n    .matchMedia(\"(prefers-color-scheme: dark)\")\n    .addEventListener(\"change\", (event) => {\n      if (isThemeSet()) {\n        return;\n      }\n      const newColorScheme = event.matches ? DARK_THEME : LIGHT_THEME;\n      document.getElementById(CHECKBOX_ID).checked =\n        newColorScheme == DARK_THEME;\n    });\n}\n\nload();\nstart();\n\n// - read localStorage\n// - read screen color scheme\n"],"names":["console","log","checkbox","isThemeSet","localStorage","getItem","document","getElementById","checked","getDefault","window","matchMedia","matches","load","onclick","value","colorScheme","setItem","addEventListener","event","newColorScheme"],"version":3,"file":"index.js.map"}